{
    "ConnectionConfiguration": {
        "ServerURL": "<%= p("ServerURL") %>",
        "WebsocketURL": "<%= p("WebsocketURL") %>",
        "PProfURL": "<%= p("PProfURL") %>",
        "LocalCommands": false,
        "DriverName": "<%= p("mattermost.SqlSettings.DriverName") %>",
        "DataSource": "<%= p("mattermost.SqlSettings.DataSource") %>",
        "SSHHostnamePort": "<%= link("cluster_nodes").instances.first.address %>:22",
        "SSHUsername": "vcap",
        "SSHPassword": "",
        "SSHKey": "/var/vcap/jobs/load_test/.ssh/id_rsa",
        "MattermostInstallDir": "/var/vcap/jobs/mattermost/packages/platform",
        "ConfigFileLoc": "/var/vcap/sys/run/mattermost/config.json",
        "AdminEmail": "<%= p("AdminEmail") %>",
        "AdminPassword": "<%= p("AdminPassword") %>",
        "SkipBulkload": <%= p("SkipBulkload") %>,
        "WaitForServerStart": false,
        "MaxIdleConns": 100,
        "MaxIdleConnsPerHost": 128,
        "IdleConnTimeoutMilliseconds": 90000
    },
    "LoadtestEnviromentConfig": {
        "NumTeams": <%= p("NumTeams") %>,
        "NumChannelsPerTeam": <%= p("NumChannelsPerTeam") %>,
        "NumUsers": <%= p("NumUsers") %>,
        "NumChannelSchemes": 1,
        "NumTeamSchemes": 1,
        "NumPosts": 20000000,
        "NumEmoji": 2000,
        "NumPlugins": 1,
        "PostTimeRange": 2600000,
        "ReplyChance": 0.3,
        "PercentHighVolumeTeams": 0.2,
        "PercentMidVolumeTeams": 0.5,
        "PercentLowVolumeTeams": 0.3,
        "PercentUsersHighVolumeTeams": 0.9,
        "PercentUsersMidVolumeTeams": 0.5,
        "PercentUsersLowVolumeTeams": 0.1,
        "PercentHighVolumeChannels": 0.2,
        "PercentMidVolumeChannels": 0.5,
        "PercentLowVolumeChannels": 0.3,
        "PercentUsersHighVolumeChannel": 0.1,
        "PercentUsersMidVolumeChannel": 0.003,
        "PercentUsersLowVolumeChannel": 0.0002,
        "HighVolumeTeamSelectionWeight": 3,
        "MidVolumeTeamSelectionWeight": 2,
        "LowVolumeTeamSelectionWeight": 1,
        "HighVolumeChannelSelectionWeight": 1,
        "MidVolumeChannelSelectionWeight": 3,
        "LowVolumeChannelSelectionWeight": 1,
        "PercentCustomSchemeTeams": 0.2,
        "PercentCustomSchemeChannels": 0.1
    },
    "UserEntitiesConfiguration": {
        "TestLengthMinutes": <%= p("TestLengthMinutes") %>,
        "NumActiveEntities": <%= p("NumActiveEntities") %>,
        "EntityStartNum": 0,
        "ActionRateMilliseconds": <%= p("ActionRateMilliseconds") %>,
        "ActionRateMaxVarianceMilliseconds": <%= p("ActionRateMaxVarianceMilliseconds") %>,
        "EnableRequestTiming": true,
        "UploadImageChance": 0.01,
        "DoStatusPolling": true,
        "EnableRequestTiming": true,
        "ChannelLinkChance": 0.02,
        "LinkPreviewChance": 0.2,
        "CustomEmojiChance": 0.2,
        "NeedsProfilesByUsernameChance": 0.38,
        "NeedsProfilesByIdChance": 0.22,
        "NeedsProfileStatusChance": 0.80,
        "RandomizeEntitySelection": false
    },
    "DisplayConfiguration": {
        "ShowUI": false,
        "LogToConsole": true
    },
    "ResultsConfiguration": {
        "CustomReportText": "",
        "SendReportToMMServer": false,
        "ResultsServerURL": "",
        "ResultsChannelId": "",
        "ResultsUsername": "",
        "ResultsPassword": "",
        "PProfDelayMinutes": 15,
        "PProfLength": 240
    },
    "LogSettings": {
        "EnableConsole": true,
        "ConsoleLevel": "INFO",
        "ConsoleJson": true,
        "EnableFile": true,
        "FileLevel": "INFO",
        "FileJson": true,
        "FileLocation": "loadtest.log"
    }
}
